// Dark mode mixins and utilities

// Mixin for dark mode styles using prefers-color-scheme only
@mixin dark-mode {
    @media (prefers-color-scheme: dark) {
        @content;
    }
}

// Mixin for light mode styles using prefers-color-scheme only
@mixin light-mode {
    @media (prefers-color-scheme: light) {
        @content;
    }
}

// Mixin for dark mode styles using data attribute (for manual toggle)
@mixin dark-mode-manual {
    [data-theme="dark"] & {
        @content;
    }
}

// Mixin for light mode styles using data attribute (for manual toggle)
@mixin light-mode-manual {
    [data-theme="light"] & {
        @content;
    }
}

// Updated combined mixin that respects system preferences when no manual theme is set
@mixin dark-mode-smart {

    // Use system preferences when no manual theme is set
    :root:not([data-theme]) & {
        @media (prefers-color-scheme: dark) {
            @content;
        }
    }

    // Use manual dark theme when explicitly set
    [data-theme="dark"] & {
        @content;
    }
}

// Updated combined mixin for light mode
@mixin light-mode-smart {

    // Use system preferences when no manual theme is set
    :root:not([data-theme]) & {
        @media (prefers-color-scheme: light) {
            @content;
        }
    }

    // Use manual light theme when explicitly set
    [data-theme="light"] & {
        @content;
    }
}

// Utility class for dark mode only elements
.dark-mode-only {
    display: none;

    @include dark-mode-smart {
        display: block;
    }
}

// Utility class for light mode only elements
.light-mode-only {
    display: block;

    @include dark-mode-smart {
        display: none;
    }
}